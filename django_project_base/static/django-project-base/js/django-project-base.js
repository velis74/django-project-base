(function(e){function t(t){for(var n,i,s=t[0],l=t[1],d=t[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(f.length)f.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01dc":function(e,t,a){},"0440":function(e,t,a){"use strict";a("a18d")},"150b":function(e,t,a){},"1e55":function(e,t,a){"use strict";a("8aaf")},"1ee4":function(e,t,a){},"3a21":function(e,t,a){"use strict";a("deae")},4676:function(e,t,a){"use strict";a("01dc")},"4f98":function(e,t,a){"use strict";a("fbec")},"509c":function(e,t,a){"use strict";a("6d69")},5354:function(e,t,a){"use strict";a("b1ee")},5537:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("54ba");var n=a("a026"),r=(a("99af"),a("d3b7"),a("bc3a")),o=a.n(r),i=a("d4ec"),s=a("bee2"),l=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,null,[{key:"store",value:function(){return localStorage}},{key:"get",value:function(t){var a=e.store().getItem(t);return a?JSON.parse(a).__val:null}},{key:"set",value:function(t,a){null!==a&&e.store().setItem(t,JSON.stringify({__val:a}))}},{key:"delete",value:function(t){e.store().removeItem(t)}},{key:"clear",value:function(){e.store().clear()}}]),e}(),d=o.a.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken",withCredentials:!0}),c=401;d.interceptors.request.use((function(e){return e.headers["Content-Type"]="application/json",e.headers["Current-Project"]=l.get("current-project"),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){var t=e&&e.response&&e.response.data&&e.response.data.detail?e.response.data.detail:"",a=e&&e.response&&e.response.status?parseInt(e.response.status,10):null,n=a===c,r=e.config&&!0===e.config.hideErrorNotice;return n&&l.clear(),r||showGeneralErrorNotification(t),Promise.reject(e)})),function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}();var u=function(e,t){return new CustomEvent(e,{detail:t})},f=(new CustomEvent("login",{}),new CustomEvent("logout",{})),m=new CustomEvent("project-selected",{}),p=new CustomEvent("maintenance-notification-acknowledged",{}),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";n["default"].notify({title:e,text:t,type:a,data:{onNotificationClose:function(e,t){t()}}})},g=function(e,t){var a=-1,r=new Date(1e3*e.delayed_to_timestamp);n["default"].notify({title:e.message.subject,text:"\n        ".concat(e.message.body,"\n        <br>\n        ").concat(e.message.footer,"\n        <br>\n        <br>\n        Maintenance starts at: ").concat(r,"\n    "),duration:a,type:"error",data:{onNotificationClose:function(e,a,n){n||d.post("/maintenance-notification/acknowledged/",{id:e.data.id,acknowledged_identifier:t}).then((function(){a(),document.dispatchEvent(p)}))},id:e.id,duration:a}})},b=function(e){var t={title:window.gettext("Error"),type:"error",data:{onNotificationClose:function(e,t){t()}}};e&&(t.text=e),n["default"].notify(t)},v=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,[{key:"getProjects",value:function(e){return l.get("current-user")?d.get("/project").then((function(t){e(t.data)})).catch((function(t){e([]),console.error(t)})):null}},{key:"getPermissions",value:function(e){var t=l.get("user-permission");t&&e(t);var a={},n=new Promise((function(e){setTimeout((function(){a={"add-project":!0,"impersonate-user":!0},l.set("user-permission",a),e()}),100)}));n.then((function(){e(a)}))}}]),e}(),_=v,w=(a("150b"),a("ee98")),y=a.n(w),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a(e.component+"modal",{tag:"component"})],1)},x=[],k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"modal fade "+e.className,attrs:{id:e.uuid,tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{class:"modal-dialog "+e.sizeClass,attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{class:"modal-header "+e.headerClasses},[a("h5",{staticClass:"modal-title"},[e._v(e._s(e.title))]),e._m(0)]),a("transition",{attrs:{name:"flip",mode:"out-in"}},[e.isComponent?a("div",{key:e.uniqId,staticClass:"modal-body"},[a(e.body.component,e._b({tag:"div"},"div",e.body,!1))],1):a("div",{key:e.uniqId,staticClass:"modal-body",domProps:{innerHTML:e._s(e.body)}})]),a("div",{staticClass:"modal-footer"},e._l(e.buttons,(function(t){return a("button",e._b({key:t.uuid,class:t.classes,attrs:{id:t.element_id||t.uuid,type:"button"},on:{click:function(a){return a.stopPropagation(),e.buttonClick(a,t,e.callback)}}},"button",t.arias,!1),[e._v(e._s(t.label)+" ")])})),0)],1)])])},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],O=(a("b2b9"),a("4f6a"),a("b503"),a("1ab8"),a("8f9c"),a("acce"),a("cc38"),a("f3c4"),a("94b6"),a("6a99")),D=(a("7679"),a("f276"),a("9c70"),a("fca0")),E=a.n(D),P=a("484e"),L=a.n(P),I={getObjectFromPath:function(e){if(e)try{return e.split(".").reduce((function(e,t){return e[t]||{}}),window)}catch(t){}}},T=I;window.dynamicforms=I;var S=2083,N=E.a.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken",withCredentials:!1}),q=0;N.interceptors.request.use((function(e){if(!e.url.includes("/dynamicforms/progress")){var t=T.dialog.addRequest(++q);e.sequence=t.sequence,e.headers["x-df-timestamp"]=e.headers["x-df-timestamp"]||t.timestamp}if("get"===L.a.toLower(e.method)&&L.a.size(e.url)>S&&L.a.includes(L.a.map(L.a.keys(e.headers),(function(e){return L.a.toLower(e)})),"x-viewmode")){var a="Your request exceeds maximum length";throw T.dialog.message("error",a),new E.a.Cancel(a)}return e})),N.interceptors.response.use((function(e){return T.dialog.removeRequest(e.config.sequence),e}),(function(e){return T.dialog.removeRequest(e.config.sequence),Promise.reject(e)}));var $=N,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:e.uuid}},[e._t("form-error",(function(){return[e.getErrorText?a("div",[a("small",{staticClass:"form-text text-danger",attrs:{id:"form-"+e.uuid+"-err"}},[e._v(e._s(e.getErrorText))]),a("hr")]):e._e()]})),e._l(e.rows,(function(t,n){return a("dfformrow",{key:n,attrs:{columns:t,data:e.record,errors:e.errors}})}))],2)},A=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isHiddenSingle?a("dfformcolumn",{attrs:{def:e.writableColumns[0],data:e.data,errors:e.errors}}):a("div",{staticClass:"row align-items-end"},e._l(e.writableColumns,(function(t,n){return a("dfformcolumn",{key:n,attrs:{def:t,data:e.data,errors:e.errors}})})),1)},B=[],V=(a("2ab4"),a("8584"),Object.freeze({SUPPRESS:1,HIDDEN:5,INVISIBLE:8,FULL:10})),U=V,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isGroup?a("div",{class:e.cssClasses},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v(" "+e._s(e.def.title)+" ")]),a("div",{staticClass:"card-body"},[a(e.def.field.render_params.form.replace(/-/g,""),{tag:"component",attrs:{def:e.def.field,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText}})],1),e.def.footer?a("div",{staticClass:"card-footer"},[e._v(" "+e._s(e.def.footer)+" ")]):e._e()])]):e.isHidden?a(e.def.field.render_params.form.replace(/-/g,""),{tag:"component",attrs:{def:e.def.field,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText}}):a("div",{class:e.cssClasses+e.columnClasses},[a(e.def.field.render_params.form.replace(/-/g,""),{tag:"component",attrs:{def:e.def.field,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText},on:{onValueConfirmed:e.onValueConfirmed}})],1)},R=[],z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dfwidgetbase",{attrs:{def:e.def,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText}},["checkbox"===e.def.render_params.input_type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.def.name],expression:"\n/* eslint-disable */\ndata[def.name]"}],class:e.def.render_params.field_class,attrs:{slot:"input",id:e.def.uuid,name:e.def.name,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.name+"-help":null,placeholder:e.def.placeholder,pattern:e.def.render_params.pattern,min:e.def.render_params.min,max:e.def.render_params.max,step:e.def.render_params.step,minlength:e.def.render_params.minlength,maxlength:e.def.render_params.maxlength,size:e.def.render_params.size,type:"checkbox"},domProps:{checked:Array.isArray(e.data[e.def.name])?e._i(e.data[e.def.name],null)>-1:e.data[e.def.name]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onValueConfirmed(!0)},input:function(t){return e.onValueConfirmed(!1)},change:[function(t){var a=e.data[e.def.name],n=t.target,r=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.data,e.def.name,a.concat([o])):i>-1&&e.$set(e.data,e.def.name,a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,e.def.name,r)},function(t){return e.onValueConfirmed(!1)}]},slot:"input"}):"radio"===e.def.render_params.input_type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.def.name],expression:"\n/* eslint-disable */\ndata[def.name]"}],class:e.def.render_params.field_class,attrs:{slot:"input",id:e.def.uuid,name:e.def.name,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.name+"-help":null,placeholder:e.def.placeholder,pattern:e.def.render_params.pattern,min:e.def.render_params.min,max:e.def.render_params.max,step:e.def.render_params.step,minlength:e.def.render_params.minlength,maxlength:e.def.render_params.maxlength,size:e.def.render_params.size,type:"radio"},domProps:{checked:e._q(e.data[e.def.name],null)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onValueConfirmed(!0)},input:function(t){return e.onValueConfirmed(!1)},change:[function(t){return e.$set(e.data,e.def.name,null)},function(t){return e.onValueConfirmed(!1)}]},slot:"input"}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.def.name],expression:"\n/* eslint-disable */\ndata[def.name]"}],class:e.def.render_params.field_class,attrs:{slot:"input",id:e.def.uuid,name:e.def.name,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.name+"-help":null,placeholder:e.def.placeholder,pattern:e.def.render_params.pattern,min:e.def.render_params.min,max:e.def.render_params.max,step:e.def.render_params.step,minlength:e.def.render_params.minlength,maxlength:e.def.render_params.maxlength,size:e.def.render_params.size,type:e.def.render_params.input_type},domProps:{value:e.data[e.def.name]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onValueConfirmed(!0)},input:[function(t){t.target.composing||e.$set(e.data,e.def.name,t.target.value)},function(t){return e.onValueConfirmed(!1)}],change:function(t){return e.onValueConfirmed(!1)}},slot:"input"})])},J=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isHidden?a("input",{attrs:{type:"hidden",name:e.def.name},domProps:{value:e.data[e.def.name]}}):a("div",{class:e.def.render_params.container_class,attrs:{id:"container-"+e.def.uuid}},[e._t("error",(function(){return[e.getErrorText?a("small",{staticClass:"form-text text-danger",attrs:{id:e.def.name+"-err"}},[e._v(e._s(e.getErrorText))]):e._e()]})),!1===e.labelAfterElement&&e.showLabelOrHelpText?a("dfwidgetbaselabel",{attrs:{data:e.data,def:e.def}}):e._e(),e._t("input"),e.labelAfterElement&&e.showLabelOrHelpText?a("dfwidgetbaselabel",{attrs:{data:e.data,def:e.def}}):e._e(),e._t("help",(function(){return[e.def.help_text&&e.showLabelOrHelpText?a("small",{staticClass:"form-text text-muted",attrs:{id:e.def.name+"-help"}},[e._v(e._s(e.def.help_text))]):e._e()]}))],2)},Q=[],W=(a("74c7"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.def.label?a("label",{attrs:{id:"label-"+e.def.uuid,for:e.def.uuid,def:e.def,data:e.data}},[e._v(e._s(e.def.label))]):e._e()}),X=[],Y={name:"dfwidgetbaselabel",props:["def","data"]},K=Y,Z=a("2877"),ee=Object(Z["a"])(K,W,X,!1,null,"0fd7253d",null),te=ee.exports,ae={name:"dfwidgetbase",props:{def:{type:Object,required:!0},data:{type:Object,required:!0},errors:{type:Object,required:!0},showLabelOrHelpText:{type:Boolean,default:!0}},computed:{isHidden:function(){return this.def.visibility.form===U.HIDDEN},labelAfterElement:function(){return this.def.render_params.label_after_element},getErrorText:function(){try{if(this.errors&&this.errors[this.def.name])return this.errors[this.def.name]}catch(e){}return""}},components:{dfwidgetbaselabel:te}},ne=ae,re=Object(Z["a"])(ne,G,Q,!1,null,"e003e6ce",null),oe=re.exports,ie={name:"dfwidgetinput",props:{def:{type:Object,required:!0},data:{type:Object,required:!0},errors:{type:Object,required:!0},showLabelOrHelpText:{type:Boolean,default:!0}},methods:{onValueConfirmed:function(e){this.$emit("onValueConfirmed",e)}},components:{dfwidgetbase:oe}},se=ie,le=Object(Z["a"])(se,z,J,!1,null,"12893e07",null),de=le.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dfwidgetbase",{attrs:{def:e.def,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText}},[a("div",{staticClass:"input-group",attrs:{slot:"input"},slot:"input"},["checkbox"===e.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.def.name],expression:"\n/* eslint-disable */\ndata[def.name]"}],class:e.def.render_params.class,attrs:{id:e.def.uuid,name:e.def.name,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.name+"-help":null,placeholder:e.def.placeholder,pattern:e.def.render_params.pattern,type:"checkbox"},domProps:{value:e.data[e.def.name],checked:Array.isArray(e.data[e.def.name])?e._i(e.data[e.def.name],e.data[e.def.name])>-1:e.data[e.def.name]},on:{change:function(t){var a=e.data[e.def.name],n=t.target,r=!!n.checked;if(Array.isArray(a)){var o=e.data[e.def.name],i=e._i(a,o);n.checked?i<0&&e.$set(e.data,e.def.name,a.concat([o])):i>-1&&e.$set(e.data,e.def.name,a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,e.def.name,r)}}}):"radio"===e.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.def.name],expression:"\n/* eslint-disable */\ndata[def.name]"}],class:e.def.render_params.class,attrs:{id:e.def.uuid,name:e.def.name,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.name+"-help":null,placeholder:e.def.placeholder,pattern:e.def.render_params.pattern,type:"radio"},domProps:{value:e.data[e.def.name],checked:e._q(e.data[e.def.name],e.data[e.def.name])},on:{change:function(t){return e.$set(e.data,e.def.name,e.data[e.def.name])}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.def.name],expression:"\n/* eslint-disable */\ndata[def.name]"}],class:e.def.render_params.class,attrs:{id:e.def.uuid,name:e.def.name,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.name+"-help":null,placeholder:e.def.placeholder,pattern:e.def.render_params.pattern,type:e.passwordFieldType},domProps:{value:e.data[e.def.name],value:e.data[e.def.name]},on:{input:function(t){t.target.composing||e.$set(e.data,e.def.name,t.target.value)}}}),a("span",{staticClass:"input-group-text",class:e.isPassword?"password-field":"password-field-slash",attrs:{id:"pwf-"+e.def.uuid},on:{click:e.toggle_password}})])])},ue=[],fe={name:"dfwidgetpassword",props:{def:{type:Object,required:!0},data:{type:Object,required:!0},errors:{type:Object,required:!0},showLabelOrHelpText:{type:Boolean,default:!0}},data:function(){return{passwordFieldType:"password",isPassword:!0}},methods:{toggle_password:function(){this.isPassword=!this.isPassword,this.passwordFieldType="password"===this.passwordFieldType?"text":"password"}},components:{dfwidgetbase:oe}},me=fe,pe=Object(Z["a"])(me,ce,ue,!1,null,"1bbe4368",null),he=pe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dfwidgetbase",{attrs:{def:e.def,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText}},[a("ckeditor",{attrs:{slot:"input",editor:e.editor,config:e.editorConfig},slot:"input",model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1)},be=[],ve=a("8698"),_e=a.n(ve),we=a("1dcf"),ye=a.n(we),Ce={name:"dfwidgetckeditor",props:{def:{type:Object,required:!0},data:{type:Object,required:!0},errors:{type:Object,required:!0},showLabelOrHelpText:{type:Boolean,default:!0}},data:function(){return{editor:ye.a,editorData:"<p>Content of the editor.</p>",editorConfig:{}}},components:{dfwidgetbase:oe,ckeditor:_e.a.component}},xe=Ce,ke=Object(Z["a"])(xe,ge,be,!1,null,"7ee374dd",null),je=ke.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dfwidgetbase",{attrs:{def:e.def,data:e.data,errors:e.errors,showLabelOrHelpText:e.showLabelOrHelpText}},[a("div",{key:e.def.uuid,staticClass:"df-select-class",attrs:{slot:"input",id:e.def.uuid,name:e.def.name,"data-value":e.selenium?e.result:null,"data-options":e.selenium?e.options_json:null},slot:"input"},[a("multiselect",{attrs:{options:e.options,"close-on-select":!0,"clear-on-select":!0,"hide-selected":!1,"preserve-search":!0,"preselect-first":!1,label:"text","track-by":"id",disabled:e.disabled,multiple:e.multiple,taggable:e.taggable,"aria-describedby":e.def.help_text&&e.showLabelOrHelpText?e.def.field_name+"-help":null,placeholder:e.def.placeholder},on:{select:e.onSelect,input:e.onInput,tag:e.onTag},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)])},De=[],Ee=(a("20bc"),a("4efc")),Pe=a.n(Ee),Le={name:"dfwidgetselect",props:{def:{type:Object,required:!0},data:{type:Object,required:!0},errors:{type:Object,required:!0},showLabelOrHelpText:{type:Boolean,default:!0}},data:function(){return{selected:null,disabled:!1,required:!1,selenium:!0}},computed:{options:function(){return this.def.choices},options_json:function(){return JSON.stringify(this.options)},multiple:function(){return this.def.render_params.multiple},taggable:function(){return this.def.render_params.allow_tags},result:{get:function(){return this.selected?this.multiple?this.selected.map((function(e){return e.id})):this.selected.id:""},set:function(e){if(e)if(this.multiple){var t=e.constructor===Array?e:e.split(",");this.selected=this.options.filter((function(e){return t.includes("".concat(e.id))}))}else this.selected=this.options.find((function(t){return t.id===e}));else this.selected=null}}},emits:["update:modelValue"],mounted:function(){var e=this;this.multiple||this.def.allow_null||this.data[this.def.name]||!this.options?this.result=this.data[this.def.name]:this.result=this.options[0].id,this.selenium&&(window["setSelectValue ".concat(this.def.uuid)]=function(t){e.result=t})},destroyed:function(){this.selenium&&delete window["setSelectValue ".concat(this.def.uuid)]},methods:{onSelect:function(e){this.data[this.def.name]=this.result,this.$emit("itemSelected",e),this.$emit("onValueConfirmed",!0)},onInput:function(e){null===e&&(this.data[this.def.name]=this.result,this.$emit("itemSelected",e))},onTag:function(e){var t={id:e,text:e};this.def.choices.push(t),this.multiple?this.selected.push(t):this.selected=t}},watch:{selected:function(){this.data[this.def.name]=this.result}},components:{dfwidgetbase:oe,Multiselect:Pe.a}},Ie=Le,Te=(a("509c"),Object(Z["a"])(Ie,Oe,De,!1,null,"34597aac",null)),Se=Te.exports,Ne={name:"dfformcolumn",props:{def:{type:Object,required:!0},data:{type:Object,required:!0},errors:{type:Object,required:!0},showLabelOrHelpText:{type:Boolean,default:!0},cssClasses:{type:String,default:"col"}},computed:{isGroup:function(){return"group"===this.def.type},isHidden:function(){return this.def.field.visibility.form===U.HIDDEN},columnClasses:function(){return this.def.width_classes?" ".concat(this.def.width_classes):""}},methods:{onValueConfirmed:function(e){this.$emit("onValueConfirmed",e)}},components:{dfwidgetinput:de,dfwidgetpassword:he,dfwidgetckeditor:je,dfwidgetselect:Se}},qe=Ne,$e=(a("5354"),Object(Z["a"])(qe,F,R,!1,null,"3e31b377",null)),He=$e.exports,Ae={name:"dfformrow",props:["columns","data","errors"],computed:{writableColumns:function(){return this.columns.filter((function(e){return!0!==e.field.read_only}))},isHiddenSingle:function(){return 1===this.writableColumns.length&&this.writableColumns[0].field.visibility.form===U.HIDDEN}},components:{dfformcolumn:He}},Me=Ae,Be=Object(Z["a"])(Me,M,B,!1,null,"c79db42c",null),Ve=Be.exports,Ue=a("8af9"),Fe=new Ue["default"],Re=Fe,ze={name:"dfformlayout",props:{rows:{},uuid:{},record:{default:null}},mounted:function(){var e=this;Re.$on("formEvents_".concat(this.uuid),(function(t){"submitErrors"===t.type&&(e.errors=t.data)}))},data:function(){return{errors:{}}},computed:{getErrorText:function(){var e="non_field_errors";try{if(this.errors&&this.errors[e])return this.errors[e]}catch(t){}return""}},components:{dfformrow:Ve},beforeDestroy:function(){Re.$off("formEvents_".concat(this.uuid))}},Je=ze,Ge=Object(Z["a"])(Je,H,A,!1,null,"03f07837",null),Qe=Ge.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("div",[e.progress?a("div",[a("h3",[e._v(e._s(e.label))]),a("div",{staticClass:"progress progress-striped progress-bar-animated"},[a("div",{staticClass:"progress-bar",style:"width: "+e.progress+"%",attrs:{role:"progressbar","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":"progress"}},[e._v(" "+e._s(e.progress)+"% ")])])]):a("div",{staticClass:"lds-ellipsis"},[a("div"),a("div"),a("div"),a("div")])]):e._e()},Xe=[],Ye={name:"dfloadingindicator",props:{loading:{type:Boolean,required:!0},label:{type:String,required:!1},progress:{type:Number,required:!1}}},Ke=Ye,Ze=(a("6b18"),Object(Z["a"])(Ke,We,Xe,!1,null,"091b0125",null)),et=Ze.exports,tt=(a("b5b7"),{name:"modalhandler",components:{dfformlayout:Qe,dfloadingindicator:et},data:function(){return{dialogs:[],initialEventAssignDone:!1,uniqIdCounter:0,inFlightRequests:{}}},computed:{className:function(){return"df-modal-handler"},bootstrapDialog:function(){return".df-modal-handler"},currentDialog:function(){var e=this.dialogs.length?this.dialogs[this.dialogs.length-1]:null;return e&&(e.uniqId=e.uniqId||this.uniqIdCounter++),e},sizeClass:function(){var e=this.currentDialog;return e?e.large||["large","lg","modal-lg"].includes(e.size)?"modal-lg":e.small||["small","sm","modal-sm"].includes(e.size)?"modal-sm":"":"modal-sm"},headerClasses:function(){var e=this.currentDialog;return e&&e.header_classes||""},title:function(){return this.currentDialog?this.currentDialog.title:"No dialogs to show!"},body:function(){return this.currentDialog?this.currentDialog.body:"No dialogs have been invoked"},callback:function(){return this.currentDialog?this.currentDialog.callback:null},uniqId:function(){return this.currentDialog?this.currentDialog.uniqId:null},isComponent:function(){return Boolean(this.currentDialog&&this.currentDialog.body&&this.currentDialog.body.component)},uuid:function(){return this.currentDialog&&this.currentDialog.uuid?"dialog-".concat(this.currentDialog.uuid):"df-modal-handler"},isShowingProgress:function(){return this.currentDialog&&!0===this.currentDialog.isProgress},buttons:function(){var e=this,t=this.currentDialog?this.currentDialog.buttons:null,a=this.currentDialog&&t?t:[{close:"default"}];return a.map((function(t){"default"===t.close?t={label:e.gettext("Close"),classes:"btn btn-secondary",data_return:"close"}:"default"===t.yes?t={label:e.gettext("Yes"),classes:"btn btn-primary",data_return:"yes"}:"default"===t.no&&(t={label:e.gettext("No"),classes:"btn btn-secondary",data_return:"no"}),t.arias=t.arias||{};var a=(t.classes||"").split(" ");return-1===a.indexOf("btn")&&a.push("btn"),t.classes=a.join(" "),t}))}},created:function(){var e=this;T.dialog||(T.dialog=this,window.setInterval((function(){e.progressDialogCheck()}),250))},methods:{show:function(){var e=this;this.initialEventAssignDone||(this.initialEventAssignDone=!0,O(this.bootstrapDialog).on("hide.bs.modal",(function(t){var a=null;e.dialogs.length&&(a=e.dialogs.pop().callback),e.dialogs.length&&t.preventDefault(),a&&!0!==a.df_called&&a(null)}))),O(this.bootstrapDialog).modal("show")},hide:function(){O(this.bootstrapDialog).modal("hide")},gettext:function(e){return e},buttonClick:function(e,t,a){Re.$emit("tableActionExecuted_".concat(this.currentDialog.tableUuid),{action:t,data:this.currentDialog.body.record,modal:this,event:e}),a&&(a(t.data_return),a.df_called=!0)},message:function(e,t,a){this.dialogs.push({title:e,body:t,buttons:[{close:"default"}],callback:a}),this.show()},yesNo:function(e,t,a){this.dialogs.push({title:e,body:t,buttons:[{yes:"default"},{no:"default"}],callback:a}),this.show()},loading:function(){return Object.keys(this.inFlightRequests).length},oldestInFlight:function(){var e=this.inFlightRequests,t=Object.keys(e);return 0===t.length?{requestId:null,timestamp:null,age:null}:{requestId:t[0],timestamp:e[t[0]],age:(new Date).getTime()-e[t[0]]}},progressDialogCheck:function(){var e=this;this.oldestInFlight().age>=250&&!this.isShowingProgress?this.showProgress():this.oldestInFlight().age>=250&&this.isShowingProgress?$.get("/dynamicforms/progress/",{headers:{"x-df-timestamp":this.oldestInFlight().timestamp}}).then((function(t){e.isShowingProgress&&(e.currentDialog.body.progress=Number(t.data.value),e.currentDialog.body.label=t.data.comment)})).catch((function(e){console.error(e)})):0===this.loading()&&this.isShowingProgress&&this.hide()},showProgress:function(){console.log("Showing progress: We have ".concat(this.loading()," active requests to server oldest is ")+"".concat(this.oldestInFlight().age,"ms old with timestamp ").concat(this.oldestInFlight().timestamp,"."));var e="Performing operation";this.dialogs.push({title:e,body:{component:"dfloadingindicator",loading:!0,label:null,progress:null,data:!0},buttons:[],callback:null,isProgress:!0}),this.show()},addRequest:function(e){return this.inFlightRequests[e]=(new Date).getTime(),{sequence:e,timestamp:this.inFlightRequests[e]}},removeRequest:function(e){e&&(delete this.inFlightRequests[e],this.progressDialogCheck())},showComponent:function(e,t,a){var n=e.data.dialog.actions;this.dialogs.push({uuid:e.data.uuid,title:e.data.titles[t||"new"],body:{uuid:e.data.uuid,rows:e.data.dialog.rows,record:e.data.record,component:e.data.dialog.component_name},buttons:Object.keys(n).reduce((function(t,a){return n[a].data_return={dialog_id:e.data.uuid,button:n[a]},t.push(n[a]),t}),[]),callback:null,size:e.data.dialog.size,header_classes:e.data.dialog.header_classes,tableUuid:a}),this.show()},fromURL:function(e,t,a){var n=this;$.get(e,{headers:{"x-viewmode":"FORM","x-df-render-type":"dialog"}}).then((function(e){n.showComponent(e.data,t,a)})).catch((function(e){console.error(e)}))}}}),at=tt,nt=Object(Z["a"])(at,k,j,!1,null,"7b8c9c0a",null),rt=nt.exports,ot={name:"modalhandler",computed:{component:function(){return window.dynamicformsUi}},components:{bootstrapmodal:rt}},it=ot,st=Object(Z["a"])(it,C,x,!1,null,"3b40f3f7",null),lt=st.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.currentBreadcrumbsLocation.length>0?a("div",{staticClass:"nav-item breadcrumbs-component"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},e._l(e.currentBreadcrumbsLocation,(function(t,n){return a("li",{key:n,staticClass:"breadcrumb-item"},[a("a",{attrs:{href:t.url}},[e._v(e._s(t.breadcrumb))])])})),0)])])])]):e._e()},ct=[],ut=(a("4de4"),a("ac1f"),a("1276"),a("498a"),a("d81d"),a("a15b"),a("5319"),a("2ef0")),ft=a.n(ut),mt={name:"breadcrumbs",data:function(){return{}},created:function(){},mounted:function(){},computed:{currentBreadcrumbsLocation:function(){var e=window.location.pathname,t=ft.a.filter(ft.a.trim(e,"/").split("/"),(function(e){return e}));return ft.a.map(t,(function(e){var a=ft.a.indexOf(t,e),n=ft.a.take(t,a+1);return{url:"/".concat(ft.a.join(n,"/")),breadcrumb:ft.a.startCase(ft.a.replace(ft.a.replace(e,".html","")," ",""))}}))}},methods:{}},pt=mt,ht=(a("0440"),Object(Z["a"])(pt,dt,ct,!1,null,"4188d9f7",null)),gt=ht.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav-item login-container login-component"},[a("div",[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginModel["username"],expression:"loginModel['username']"}],attrs:{type:"text",placeholder:"Username",name:"username"},domProps:{value:e.loginModel["username"]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focusPassword.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.loginModel,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginModel["password"],expression:"loginModel['password']"}],attrs:{type:"password",placeholder:"Password",name:"psw"},domProps:{value:e.loginModel["password"]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.makeLogin.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.loginModel,"password",t.target.value)}}}),a("div",{staticClass:"btn-group dropleft",staticStyle:{display:"inline"}},[e.socialAuth.length?a("button",{staticClass:"btn btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}):e._e(),a("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:e.makeLogin}},[e._v(" "+e._s(e.gettext("Login"))+" ")]),e.socialAuth.length?a("div",{staticClass:"dropdown-menu"},e._l(e.socialAuth,(function(t,n){return a("a",{key:n,staticClass:"dropdown-item",attrs:{href:t.url}},[e._v(e._s(t.title))])})),0):e._e()])])]),a("notifications",{attrs:{position:"top center"}})],1)},vt=[],_t=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,null,[{key:"login",value:function(t,a){l.clear(),d.post("/account/login/",{login:t,password:a}).then((function(){e.checkLogin(!0,(function(){return window.location.href="/"}))}))}},{key:"logout",value:function(){d.post("/account/logout/").finally((function(){l.clear(),document.dispatchEvent(f),window.location.href="/"}))}},{key:"checkLogin",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d.get("/account/profile/current",{hideErrorNotice:!e}).then((function(e){l.set("current-user",e.data),document.dispatchEvent(u("login",e.data)),t&&t()})).catch((function(){l.clear()}))}}]),e}(),wt={name:"login",data:function(){return{loginModel:{username:null,password:null},socialAuth:[]}},mounted:function(){_t.checkLogin(!1,this.checkLoginSuccessCallback)},methods:{checkLoginSuccessCallback:function(){var e=this;l.get("current-user")||d.get("/account/social-auth-providers/").then((function(t){e.socialAuth=t.data}))},makeLogin:function(){_t.login(this.loginModel.username,this.loginModel.password)},focusPassword:function(){document.getElementsByName("psw")[0].focus()}}},yt=wt,Ct=(a("4676"),Object(Z["a"])(yt,bt,vt,!1,null,"0dbc9876",null)),xt=Ct.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._t("modal-title",(function(){return[a("h5",{staticClass:"modal-title"},[e._v("Modal title")])]})),e._t("header",(function(){return[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]}))],2),a("div",{staticClass:"modal-body"},[e._t("body",(function(){return[e._v(" default body ")]}))],2),a("div",{staticClass:"modal-footer"},[e._t("footer",(function(){return[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[e._v(e._s(e.gettext("Close"))+" ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e._v(e._s(e.gettext("Save changes")))])]}))],2)])])])])])},jt=[],Ot={name:"modalwindow"},Dt=Ot,Et=(a("1e55"),Object(Z["a"])(Dt,kt,jt,!1,null,"661d63d1",null)),Pt=Et.exports,Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav-item project-list-dropdown projectlist-component"},[a("div",{staticClass:"collapse navbar-collapse"},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("i",{staticClass:"nav-link fas fa-th-list fa-2x",attrs:{"data-toggle":"dropdown"}}),a("div",{staticClass:"dropdown-menu",staticStyle:{left:"-4em"},attrs:{"aria-labelledby":"navbarDropdown"}},[e._l(e.projectList,(function(t){return a("a",{key:t[e.projectTablePkName],staticClass:"dropdown-item project-item",attrs:{href:"#"},on:{click:function(a){return e.projectSelected(t[e.projectTablePkName])}}},[a("img",{staticClass:"project-link-image",attrs:{src:t.logo}}),e._v(e._s(t.name))])})),e.permissions["add-project"]?a("a",{staticClass:"dropdown-item project-item",attrs:{href:"#"},on:{click:e.addNewProject}},[a("i",{staticClass:"fas fa-plus-circle"}),e._v(e._s(e.gettext("Add new project")))]):e._e()],2)])])])])},It=[],Tt="slug",St={name:"projectlist",data:function(){return{projectList:[],permissions:{},dataStore:new _,isLoadingData:!1}},created:function(){var e=this;l.get("current-user")&&this.loadData(),document.addEventListener("login",(function(){e.loadData()}))},computed:{projectTablePkName:function(){return Tt}},methods:{projectSelected:function(e){var t=this;e!==l.get("current-project")&&(l.set("current-project",ft.a.first(ft.a.filter(this.projectList,(function(a){return a[t.projectTablePkName]===e})))[this.projectTablePkName]),document.dispatchEvent(m))},loadData:function(){var e=this;if(!this.isLoadingData){this.isLoadingData=!0;var t=this.dataStore.getProjects(this.setProjects);t?t.finally((function(){e.isLoadingData=!1})):this.isLoadingData=!1,this.dataStore.getPermissions(this.setPermissions)}},setProjects:function(e){this.projectList=e},setPermissions:function(e){this.permissions=e},addNewProject:function(){h("Make project","TODO")}}},Nt=St,qt=(a("6a47"),Object(Z["a"])(Nt,Lt,It,!1,null,"698fce97",null)),$t=qt.exports,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"titlebar-app titlebar-component"},[a("nav",{staticClass:"navbar navbar-expand-lg ",class:[e.darkMode?e.darkClass:e.lightClass]},[e.titleBarProps.logo?a("div",{staticClass:"nav-item"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("img",{staticClass:"float-left rounded-circle logo-image",attrs:{src:e.titleBarProps.logo,onclick:"window.location.href='/'"}})])])]):e._e(),e.titleBarProps.name?a("div",{staticClass:"navbar-brand left-spacing",staticStyle:{cursor:"default"},attrs:{href:"javascript:void(0);"}},[e._v(" "+e._s(e.titleBarProps.name)+" ")]):e._e(),e.breadcrumbsVisible&&e.loggedIn?a("div",{staticClass:"left-spacing"},[a("breadcrumbs")],1):e._e(),e.projectlistVisible&&e.loggedIn?a("div",{staticClass:"collapse navbar-collapse"},[a("ul",{staticClass:"navbar-nav mr-auto"}),a("projectlist")],1):e._e(),e.userprofileVisible&&e.loggedIn?a("div",[a("userprofile")],1):!e.loggedIn&&e.loginVisible?a("div",{staticClass:"login"},[a("login")],1):e._e()]),e.loggedIn?a("notifications",{attrs:{width:"350",position:"top center"},scopedSlots:e._u([{key:"body",fn:function(t){var n=t.item,r=t.close;return[a("div",{staticClass:"vue-notification",class:n.type,on:{click:function(e){return n.data.onNotificationClose(n,r,!0)}}},[a("div",[a("div",{staticClass:"notification-title",staticStyle:{display:"inline-block","max-width":"95%"}},[a("div",{domProps:{innerHTML:e._s(n.title)}})]),a("div",{staticClass:"notification-content",staticStyle:{display:"inline-block","max-width":"95%"}},[a("div",{domProps:{innerHTML:e._s(n.text)}})]),-1===n.data.duration?a("div",{staticStyle:{display:"inline-block",float:"right","vertical-align":"middle"}},[a("button",{staticClass:"close",on:{click:function(e){return n.data.onNotificationClose(n,r)}}},[a("i",{staticClass:"fas fa-times fa-xs"})])]):e._e()])])]}}],null,!1,3497614173)}):e._e()],1)},At=[],Mt=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav-item left-spacing userprofile-component"},[a("div",{staticClass:"card",attrs:{"data-toggle":"dropdown"}},[a("div",{staticClass:"card-body"},[e.componentData.avatar?a("img",{staticClass:"float-left rounded-circle",attrs:{src:e.componentData.avatar}}):e._e(),a("div",{staticClass:"user-names",style:e.componentData.avatar?"padding-left: 55px;":""},[e.componentData.first_name&&e.componentData.last_name?a("h5",{staticClass:"card-title"},[e._v(" "+e._s(e.componentData.first_name)+" "),a("br"),e._v(" "+e._s(e.componentData.last_name)+" "),e.isImpersonated?a("span",[e._v("("+e._s(e.gettext("Impersonated"))+")")]):e._e()]):e.componentData.email?a("h5",{staticClass:"card-title",staticStyle:{"margin-top":"0.6em"}},[e._v(" "+e._s(e.componentData.email)+" "),e.isImpersonated?a("span",[e._v("("+e._s(e.gettext("Impersonated"))+")")]):e._e()]):e.componentData.username?a("h5",{staticClass:"card-title",staticStyle:{"margin-top":"0.6em"}},[e._v(" "+e._s(e.componentData.username)+" "),e.isImpersonated?a("span",[e._v("("+e._s(e.gettext("Impersonated"))+")")]):e._e()]):e._e()]),a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("div",{staticClass:"dropdown-menu",staticStyle:{left:"-7em"},attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.userProfile}},[e._v(e._s(e.gettext("User profile")))]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.changePassword}},[e._v(e._s(e.gettext("Change password")))]),e.permissions["impersonate-user"]&&!e.isImpersonated?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.showImpersonateLogin}},[e._v(e._s(e.gettext("Impersonate user")))]):e.isImpersonated?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.stopImpersonation}},[e._v(e._s(e.gettext("Stop impersonation")))]):e._e(),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.makeLogout}},[e._v(e._s(e.gettext("Logout")))])])])])])])])}),Bt=[],Vt=(a("0141"),void 0),Ut=function(e){var t,a=function(t){e.then&&e.then(t)},n=function(t){e.catch&&e.catch(t)},r=function(){e.finally&&e.finally()};t=["put","post","patch"].includes(e.method)?[e.url,e.data,e.config]:[e.url,e.config],$[e.method].apply(Vt,t).then((function(e){a(e)})).catch((function(e){n(e)})).finally((function(){r()}))},Ft={methods:{executeTableAction:function(e,t,a,n){var r=this;if(L.a.size(e))if("delete"===e.name){var o=n&&n.detailUrl?n.detailUrl:this.detail_url.replace("--record_id--",t.id);Ut({method:"delete",url:o,then:n.then||function(){r&&r.processedConfiguration&&r.processedConfiguration.rows.deleteRow(t.id)}})}else if(["edit","add"].includes(e.name))this.showModal(e,t);else if("submit"===e.name){var i,s;t.id?(i=t.id,s="put"):(i="new",s="post"),s=n.submitMethod||s;var l=n&&n.detailUrl?n.detailUrl:this.detail_url.replace("--record_id--",i),d=n&&"headers"in n?n.headers:{"x-viewmode":"TABLE_ROW","x-pagination":1,"x-df-component-def":!0};Ut({method:s,url:l,data:t,config:{headers:d},then:n.then||function(e){a&&a.hide(),r&&r.processedConfiguration&&r.processedConfiguration.rows.updateRows([e.data])},catch:n.catch||function(e){var t={},n="formEvents_".concat(a.currentDialog.body.uuid);400===e.response.status?L.a.forOwn(e.response.data,(function(e,a){t["".concat(a)]=L.a.join(e,"\n")})):t.non_field_errors=e.response.data.detail,Re.$emit(n,{type:"submitErrors",data:t})}})}else"cancel"===e.name?a&&a.hide():"filter"===e.name&&this.loadData()}}},Rt=Ft,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[e._t("form-error",(function(){return[e.getErrorText?a("div",[a("small",{staticClass:"form-text text-danger",attrs:{id:"form-"+e.uuid+"-err"}},[e._v(e._s(e.getErrorText))]),a("hr")]):e._e()]})),a("input",{directives:[{name:"model",rawName:"v-model",value:e.record["user"],expression:"\n/* eslint-disable */\nrecord['user']"}],staticClass:"autocomplete form-control",attrs:{type:"text",id:"userAutocomplete","data-toggle":"dropdown",placeholder:e.searchUserPlaceholder},domProps:{value:e.record["user"]},on:{keyup:e.searchUsers,input:function(t){t.target.composing||e.$set(e.record,"user",t.target.value)}}}),a("ul",{staticClass:"dropdown-menu",staticStyle:{width:"100%"},attrs:{role:"menu"}},e._l(e.usersFilter,(function(t,n){return a("li",{key:"key_"+t.id+"_"+n,staticClass:"cursor-pointer",staticStyle:{width:"100%",padding:"0 .75rem"},on:{click:function(a){return e.selectUser(t)}}},[a("a",[e._v(e._s(t.full_name||t.email))])])})),0)],2)},Jt=[],Gt={name:"accounts-impersonate_dialog.html",props:["rows","uuid","record"],data:function(){return{usersFilter:[],errors:{}}},mounted:function(){var e=this;Re.$on("formEvents_".concat(this.uuid),(function(t){"submitErrors"===t.type&&(e.errors=t.data)}))},beforeDestroy:function(){Re.$off("formEvents_".concat(this.uuid))},computed:{searchUserPlaceholder:function(){return this.gettext("Enter any user attribute")},userSearchInputQueryString:function(){return this.record.user},getErrorText:function(){try{var e="";return ft.a.forIn(this.errors,(function(t,a){e+="".concat(t,"\n")})),e=e.trim(),e}catch(t){}return""}},methods:{searchUsers:ft.a.debounce((function(){var e=this;if(this.userSearchInputQueryString){var t="/account/profile?search=".concat(this.userSearchInputQueryString);d.get(t).then((function(t){e.usersFilter=t.data}))}}),250),selectUser:function(e){this.record.user_id=e.id,this.record.user=e.full_name||e.email}}},Qt=Gt,Wt=Object(Z["a"])(Qt,zt,Jt,!1,null,null,null),Xt=Wt.exports;n["default"].component(Xt.name,Xt);var Yt="fake-uuid-chg-pass-654654-634565",Kt="fake-uuid-usr-prof-654654-634565",Zt="fake-uuid-imp-user-654654-634565",ea={name:"userprofile",data:function(){return{componentData:{},permissions:{},isImpersonated:!1}},created:function(){this.loadData()},mounted:function(){Re.$on("tableActionExecuted_".concat(Yt),this.dialogBtnClick),Re.$on("tableActionExecuted_".concat(Kt),this.dialogBtnClick),Re.$on("tableActionExecuted_".concat(Zt),this.dialogBtnClick)},beforeDestroy:function(){Re.$off("tableActionExecuted_".concat(Yt)),Re.$off("tableActionExecuted_".concat(Kt)),Re.$off("tableActionExecuted_".concat(Zt))},methods:{loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(new _).getPermissions((function(t){e.permissions=t})),this.isImpersonated=!!l.get("impersonated-user");var a=l.get("current-user");if(!a||t)return new Promise((function(t,a){d.get("/account/profile/current").then((function(a){e.componentData=a.data,l.set("current-user",e.componentData),t()})).catch((function(e){a(e)}))}));this.componentData=a},makeLogout:function(){_t.logout()},showImpersonateLogin:function(){window.dynamicforms.dialog.fromURL("/account/impersonate/new.component","new",Zt)},reloadAfterImpersonationChange:function(){this.loadData(!0).finally((function(){window.location.href="/"}))},stopImpersonation:function(){var e=this;d.post("/account/impersonate/end").then((function(){l.delete("impersonated-user"),e.reloadAfterImpersonationChange()}))},userProfile:function(){window.dynamicforms.dialog.fromURL("/account/profile/".concat(this.componentData.id,".component"),"edit",Kt)},changePassword:function(){window.dynamicforms.dialog.fromURL("/account/change-password/new.component","new",Yt)},dialogBtnClick:function(e){var t,a,n=this;console.log(e),"cancel"!==e.action.name&&(e.modal.currentDialog.tableUuid===Yt?(t={old_password:e.data.old_password,password:e.data.password,password_confirm:e.data.password_confirm},a={detailUrl:"/account/change-password/submit-change/",headers:void 0}):e.modal.currentDialog.tableUuid===Kt?(t=e.data,a={detailUrl:"/account/profile/".concat(this.componentData.id,".json")}):e.modal.currentDialog.tableUuid===Zt&&(t={id:e.data.user_id},a={detailUrl:"/account/impersonate/start",submitMethod:"post",headers:void 0,then:function(){n.impersonateModalVisible=!1,l.set("impersonated-user",!0),n.reloadAfterImpersonationChange()}})),Rt.methods.executeTableAction(e.action,t,e.modal,a)}}},ta=ea,aa=(a("4f98"),Object(Z["a"])(ta,Mt,Bt,!1,null,"5ce7b5fc",null)),na=aa.exports,ra={name:"titlebar",props:{darkMode:{default:!1,type:Boolean},projectlistVisible:{type:Boolean,default:!0},userprofileVisible:{type:Boolean,default:!0},breadcrumbsVisible:{type:Boolean,default:!0},loginVisible:{type:Boolean,default:!0}},data:function(){return{titleBarProps:{},loggedIn:null,lightClass:"navbar-light bg-light",darkClass:"navbar-dark bg-dark",maintenanceNoticesPeriodicApiCall:null,maintenanceNotificationItem:null}},beforeDestroy:function(){clearInterval(this.maintenanceNoticesPeriodicApiCall),this.maintenanceNoticesPeriodicApiCall=null},created:function(){_t.checkLogin(!1,this.createdCallback)},methods:{createdCallback:function(){var e=this;document.title&&(this.titleBarProps.name=document.title),this.loggedIn=null!==l.get("current-user")&&void 0!==l.get("current-user"),this.loadData(),document.addEventListener("login",(function(t){t.detail&&t.detail["default-project"]?e.titleBarProps=t.detail["default-project"]:e.loadData(),e.loggedIn=!0})),document.addEventListener("logout",(function(){e.loggedIn=null,e.titleBarProps={}})),document.addEventListener("project-selected",(function(){e.loadData()})),document.addEventListener("maintenance-notification-acknowledged",(function(){e.maintenanceNotificationItem=null})),this.monitorMaintenanceNotifications()},loadData:function(){this.loadProjectData()},loadProjectData:function(){var e=this;l.get("current-project")&&d.get("/project/".concat(l.get("current-project"))).then((function(t){e.titleBarProps=t.data}))},monitorMaintenanceNotifications:function(){var e=this;this.maintenanceNoticesPeriodicApiCall=setInterval((function(){l.get("current-user")&&d.get("/maintenance-notification/",{hideErrorNotice:!0}).then((function(t){var a=ft.a.first(t.data);if(a){var n=a.notification_acknowledged_data,r=a.delayed_to_timestamp,o=[r-36e3,r-7200-1],i=[r-7200,r-600-1],s=[r-600,r],l=Math.floor(Date.now()/1e3),d=8,c=ft.a.inRange(l,o[0],o[1])&&!ft.a.size(ft.a.filter(n,(function(e){return 8===e}))),u=ft.a.inRange(l,i[0],i[1])&&!ft.a.size(ft.a.filter(n,(function(e){return 1===e}))),f=ft.a.inRange(l,s[0],s[1])&&!ft.a.size(ft.a.filter(n,(function(e){return 5===e})));u&&(d=1),f&&(d=5),!e.maintenanceNotificationItem&&(c||u||f)&&(e.maintenanceNotificationItem=a,g(e.maintenanceNotificationItem,d))}})).catch()}),45e3)}},components:{breadcrumbs:gt,login:xt,projectlist:$t,userprofile:na}},oa=ra,ia=(a("3a21"),Object(Z["a"])(oa,Ht,At,!1,null,"e009a234",null)),sa=ia.exports,la={titlebar:sa,breadcrumbs:gt,login:xt,modalwindow:Pt,projectlist:$t,userprofile:na},da=function(e,t,a){return"undefined"===typeof window.dynamicforms&&(window.dynamicforms={}),!window.dynamicforms.dialog&&a&&new n["default"]({el:"#".concat(a),components:{ModalHandler:lt},template:"<ModalHandler></ModalHandler>"}),n["default"].use(y.a),new n["default"]({el:"#".concat(e),template:t,components:la})},ca=da;"undefined"===typeof window.gettext&&(window.gettext=function(e){return e}),n["default"].prototype.gettext=window.gettext,window.Vue=n["default"],window.createApp=ca,window.showNotification=h,window.showGeneralErrorNotification=b,window.apiClient=d,window.Store=l,window.ProjectBaseData=_},"6a47":function(e,t,a){"use strict";a("1ee4")},"6b18":function(e,t,a){"use strict";a("5537")},"6d69":function(e,t,a){},"8aaf":function(e,t,a){},a18d:function(e,t,a){},b1ee:function(e,t,a){},deae:function(e,t,a){},fbec:function(e,t,a){}});
//# sourceMappingURL=django-project-base.js.map