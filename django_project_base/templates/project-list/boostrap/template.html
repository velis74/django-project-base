<style>
    [v-cloak] {
        display: none;
    }

    .card .card-body .message {
        padding-left: 45px;
    }

    .card .card-body .message::after {
        clear: both;
    }

    .card .card-body {
        background-color: transparent;
        border: none;
        padding-top: 0;
        padding-bottom: 0;
    }

    .card {
        background-color: transparent;
        border: none;
        cursor: pointer;
    }

    .logo-image {
        max-height: 80px;
        max-width: 80px;
    }

    .project-link-image {
        max-height: 40px;
        max-width: 40px;
    }

    .login-container {
        position: absolute;
        right: 1em;
    }

    .rounded-circle {
        margin-top: 0.25em;
    }

    i {
        cursor: pointer;
    }

    .navbar {
        min-height: 4em;
    }

    .project-item {

    }
</style>
<div id="django-project-base-titlebar" v-cloak>
    <titlebar inline-template>
        <div>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="nav-item">
                    <div class="card">
                        <div class="card-body">
                            <img v-bind:src="titleBarProps.companyImageLogoUrl"
                                 class="float-left rounded-circle logo-image" onclick="window.location.href='/'">
                        </div>
                    </div>
                </div>
                <a class="navbar-brand" href="javascript:void(0);" style="cursor: default;">{{
                    titleBarProps.companyTitle
                    }}</a>
                <div class="nav-item" v-if="loggedIn && currentBreadcrumbsLocation.length > 0">
                    <div class="card">
                        <div class="card-body">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li v-for="(b, bx) in currentBreadcrumbsLocation" class="breadcrumb-item"><a
                                            v-bind:href="b.url">{{ b.breadcrumb }}</a></li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="collapse navbar-collapse" v-if="loggedIn">
                    <ul class="navbar-nav mr-auto">
                    </ul>
                    <div class="nav-item">
                        <div class="collapse navbar-collapse">
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown">
                                    <i class="nav-link fas fa-th-list fa-2x" data-toggle="dropdown"></i>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a v-for="(project, idx) in projectList"
                                           v-on:click="projectSelected(project.id)"
                                           v-bind:key="project.slug" class="dropdown-item project-item" href="#">
                                            <img v-bind:src="project.logo" class="project-link-image">
                                            {{ project.name }}</a>
                                        <a v-if="permissions['add-project']" v-on:click="addNewProject"
                                           class="dropdown-item project-item"
                                           href="#">
                                            <i class="fas fa-plus-circle"></i> {{ translations['add-new-project'] }}</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="nav-item" v-if="loggedIn">
                    <div class="card" data-toggle="dropdown">
                        <div class="card-body">
                            <img style="margin-right: 1em;" v-bind:src="titleBarProps.avatarImageUrl"
                                 class="float-left rounded-circle">
                            <div class="message">
                                <h5 class="card-title">{{ titleBarProps.firstName }} {{ titleBarProps.lastName }}</h5>
                            </div>
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown">
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="#">User profile</a>
                                        <a class="dropdown-item" href="#">User settings</a>
                                        <a class="dropdown-item" href="#">Change password</a>
                                        <a class="dropdown-item" href="#" @click="makeLogout">{{
                                            translations['logout']
                                            }}</a>
                                    </div>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
                <div class="nav-item login-container" v-else>
                    <div>
                        <form @submit.prevent>
                            <input type="text" v-model="loginModel['username']" placeholder="Username" name="username">
                            <input type="password" v-model="loginModel['password']" placeholder="Password" name="psw">
                            <button class="btn" type="submit" @click="makeLogin">{{ translations['login'] }}</button>
                        </form>
                    </div>

                </div>
            </nav>
            <notifications position="top center"/>
        </div>
    </titlebar>
</div>